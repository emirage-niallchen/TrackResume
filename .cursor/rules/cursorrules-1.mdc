---
description: 
globs: 
alwaysApply: true
---
# 项目背景
这是一个基于 Nextjs 的简历展示平台,可以进行界面展示、简历文件展示，并拥有后台管理界面，系统使用docker打包，可支持vercel、cloudflare等平台部署，以及服务器部署。
# 编码标准
- 使用函数式组件和 Hooks，避免类组件
- 变量声明优先使用 const，而不是 let
- 变量和函数名使用 camelCase 规范，组件名使用 PascalCase
- 同类型请求，不要使用同一文件，而是使用不同的文件
- 跨组件或跨目录导入路径使用“@/”,组件内使用"../"这类导入方式
- 变量、函数、组件、文件命名必须精炼，符合语义化，符合业务逻辑，不能出现"you"、"me"、"this"、"that"等词汇。
- 工具类统一存放于lib/utils目录中，并根据业务逻辑创建对应类文件，使用lib/utils/index.ts文件进行导出，不可单独建立utils文件。
- 项目文件，使用tsx或ts后缀。
# 首选的库
- 使用 Next.js 进行导航
- 使用 Prisma 进行数据库操作
- 使用 Shadcn 进行 UI 组件库
- 使用 tailwind 进行 CSS-in-JS 样式设计
- 使用 Zod 进行数据验证
- 使用 SWR 进行数据获取
- 使用 zustand 进行状态管理
- 使用 lucide-react 进行图标库
- 使用 date-fns 进行日期处理
- 使用 react-spring 进行动画库
- 使用 react-hook-form 进行表单处理
- 使用 tRPC 进行API请求,目的是类型提示与类型安全
- 使用 t3-env 进行环境变量管理 
# 文件结构
- 目录结构遵循Next13+的App Router 结构，采用最佳实践和项目组织规范,包括app、components、lib、public以及配置文件,存放在根目录下,hooks、types、utils、prisma.ts以及其他工具文件存放在lib目录下
- components: 可复用的 UI 组件
- app/api: API 服务函数
- 尽可能使用index导出，例如utils目录，以及他的index,不要单独建立utils文件。
# 性能优化指南
- 对纯函数组件使用 React.memo
- 路由组件实现懒加载
- 优化 useEffect 依赖，防止不必要的重新渲染
# 测试要求
- 使用 Jest 和 React Testing Library 编写单元测试
- 测试覆盖率应至少达到 80%
- 对 UI 组件使用快照测试 (Snapshot Testing)
- 对于异步操作（如 API 请求），确保组件正确处理数据加载、错误处理等场景。
- 后端测试中,使用Supertest 用于模拟 HTTP 请求,Jest 用于执行测试并验证响应。
- 利用GitHub Actions进行CI/CD,CI 中配置并行测试，利用 Jest 的并行执行功能加速测试过程。
# 文档规范
- 使用 JSDoc 格式编写函数和组件的注释
- 组件必须包含 PropTypes 验证
- 每个主要目录必须包含 README.md 文件
- 同时提供英语和中文版本的 README.md 文件
# 错误处理
- 使用 try/catch 块处理异步操作
- 实现全局错误边界组件
# 界面样式
- 后台管理界面，设计采用现代简约风格。
# 项目环境说明
- 开发环境：用户通过 Windows 系统 SSH 远程连接到 Linux 服务器进行开发
- 项目实际位置：Linux 服务器上的 "~/code/nextjsProject/cv" 目录，本项目中的
- 用户：root 用户，其中 ~ 代表 /root
- 所有文件操作都应该使用 Linux 风格的路径（使用 / 而不是 `\` ）,并在Linux中进行文件操作
