# TrackResume - 个人简历展示平台

## 项目背景与目标

TrackResume 是一个基于 Next.js 构建的动态数字简历档案平台，旨在帮助用户持续追踪和展示职业发展历程。项目解决了传统简历静态、难以维护的问题，通过提供可定制的展示界面和强大的后台管理系统，让用户能够：

- **动态展示职业发展**：实时更新工作经历、项目经验、技术栈等职业信息
- **精准匹配岗位需求**：通过标签系统实现内容筛选，根据不同岗位要求展示相应的简历内容
- **简化维护流程**：提供直观的管理后台，无需技术背景即可轻松更新简历信息
- **灵活部署方案**：支持 Docker、Vercel、Cloudflare 等多种部署方式，满足不同场景需求

## 项目周期

**开发周期**：3-4 个月

**项目阶段**：
- 需求分析与架构设计：2 周
- 核心功能开发：6-8 周
- 管理后台开发：3-4 周
- 测试与优化：2-3 周
- 部署与文档完善：1-2 周

## 担任角色与职责

**担任角色**：全栈开发工程师（独立开发）

**主要职责**：

1. **架构设计与技术选型**
   - 基于 Next.js 14 App Router 设计项目架构
   - 选择 Prisma ORM 实现数据库抽象层，支持 MySQL/SQLite 双数据库
   - 设计 RESTful API 接口规范

2. **前端开发**
   - 使用 React 18 + TypeScript 开发响应式前端界面
   - 基于 shadcn/ui + TailwindCSS 构建现代化 UI 组件库
   - 实现 SWR 数据获取与缓存策略
   - 开发标签筛选、内容动态展示等核心交互功能

3. **后端开发**
   - 使用 Next.js API Routes 构建 RESTful API
   - 实现 NextAuth.js 认证授权系统
   - 设计并实现标签关联的多对多数据模型
   - 开发文件上传、图片处理等文件管理功能

4. **数据库设计**
   - 使用 Prisma Schema 设计 15+ 数据模型
   - 实现标签系统、关联关系、级联删除等复杂业务逻辑
   - 优化查询性能，支持多条件筛选

5. **DevOps 与部署**
   - 编写 Dockerfile 实现容器化部署
   - 配置 Docker Compose 支持本地开发环境
   - 适配 Vercel、Cloudflare 等平台部署配置
   - 实现环境变量管理和数据库迁移脚本

6. **项目管理**
   - 编写中英文技术文档
   - 设计项目文件结构和代码规范
   - 实现错误处理和日志记录机制

## 技术栈与选型依据

### 核心技术栈

**前端框架**：
- **Next.js 14**：选择 App Router 架构，支持服务端渲染（SSR）和静态生成（SSG），提升 SEO 和首屏加载性能
- **React 18**：使用函数式组件和 Hooks，提升代码可维护性
- **TypeScript**：提供类型安全，减少运行时错误，提升开发效率

**UI 框架**：
- **TailwindCSS**：原子化 CSS，快速构建响应式界面
- **shadcn/ui**：基于 Radix UI 的组件库，提供可访问性和自定义能力

**数据层**：
- **Prisma ORM**：类型安全的数据库访问层，支持多数据库（MySQL/SQLite），简化数据库操作
- **MySQL/SQLite**：MySQL 用于生产环境，SQLite 用于开发环境，通过 Prisma 实现无缝切换

**状态管理与数据获取**：
- **SWR**：实现数据缓存、重新验证、错误重试等特性，提升用户体验
- **React Hook Form + Zod**：表单验证和数据校验，确保数据完整性

**认证授权**：
- **NextAuth.js**：提供完整的认证解决方案，支持 JWT 策略，保护管理后台路由

**部署方案**：
- **Docker**：容器化部署，确保环境一致性
- **Vercel/Cloudflare**：支持边缘部署，提升全球访问速度

### 选型依据

1. **Next.js 14 App Router**：相比传统 Pages Router，App Router 提供更好的代码组织和性能优化，支持并行路由和拦截路由等高级特性
2. **Prisma ORM**：相比 Sequelize/TypeORM，Prisma 提供更好的类型推断和开发体验，Schema 即代码的理念简化了数据库迁移
3. **SWR**：相比 React Query，SWR 更轻量，API 更简洁，适合中小型项目
4. **shadcn/ui**：相比 Material-UI/Ant Design，shadcn/ui 提供更好的自定义能力和更小的打包体积

## 技术亮点与难点

### 技术亮点

1. **标签系统实现内容动态筛选**
   - 设计多对多关联模型（Tag ↔ Project/Tech/Resume/File）
   - 通过 URL 参数（`?tags=frontend,react`）实现内容筛选
   - 前端使用 SWR 根据标签参数动态获取数据，实现零刷新筛选
   - **技术价值**：用户可根据不同岗位要求，通过 URL 分享定制化的简历内容

2. **模块化组件架构**
   - 将页面拆分为独立的 Section 组件（HeroSection、ResumeTimeline、ProjectsShowcase 等）
   - 每个组件独立获取数据，支持并行加载和错误隔离
   - 使用 React.memo 优化渲染性能
   - **技术价值**：提升代码可维护性和页面加载性能

3. **类型安全的数据层设计**
   - 使用 Prisma 生成类型安全的数据库访问层
   - 定义 VO（Value Object）类型，统一 API 响应格式
   - 使用 Zod 进行运行时类型校验
   - **技术价值**：在编译期和运行期双重保障类型安全，减少 Bug

4. **灵活的数据库适配**
   - 通过 Prisma Schema 配置，支持 MySQL 和 SQLite 无缝切换
   - 编写数据库切换脚本，支持开发/生产环境分离
   - **技术价值**：降低开发环境配置成本，提升开发效率

5. **现代化部署方案**
   - 多阶段 Docker 构建，优化镜像体积
   - 支持 standalone 输出模式，减少部署体积
   - 配置 Vercel/Cloudflare 部署，支持边缘计算
   - **技术价值**：提供灵活的部署选择，适应不同场景需求

### 技术难点与解决方案

1. **标签筛选的复杂查询逻辑**
   - **难点**：需要实现多标签组合筛选，且支持跨模型关联查询
   - **解决方案**：
     - 使用 Prisma 的 `some` 条件实现多对多关联筛选
     - 通过 URL 参数解析，构建动态查询条件
     - 优化查询语句，避免 N+1 查询问题
   ```typescript
   // 示例：标签筛选查询
   const where = tags.length > 0 ? {
     tags: {
       some: {
         tag: {
           name: { in: tags },
           isPublished: true,
         },
       },
     },
   } : {};
   ```

2. **图片 Base64 存储与性能优化**
   - **难点**：用户头像和背景图片需要支持 Base64 存储，但会影响数据库性能
   - **解决方案**：
     - 使用 `@db.LongText` 类型存储 Base64 数据
     - 实现图片压缩和格式转换逻辑
     - 提供 URL 和 Base64 两种存储方式，支持外部图片链接
   ```typescript
   // 示例：图片处理逻辑
   const imageSrc = adminData.avatar?.startsWith("http")
     ? adminData.avatar
     : `data:image/png;base64,${adminData.avatar}`;
   ```

3. **认证中间件的路由保护**
   - **难点**：需要精确控制管理后台路由的访问权限，同时不影响公开页面
   - **解决方案**：
     - 使用 Next.js Middleware 在边缘执行认证检查
     - 通过 `matcher` 配置精确匹配需要保护的路由
     - 实现 JWT Token 验证和自动重定向逻辑
   ```typescript
   // 示例：中间件路由保护
   if (req.nextUrl.pathname.startsWith("/admin")) {
     const token = await getToken({ req, secret: process.env.NEXTAUTH_SECRET });
     if (!token) {
       return NextResponse.redirect(new URL("/login", req.url));
     }
   }
   ```

4. **多数据库 Schema 管理**
   - **难点**：需要维护 MySQL 和 SQLite 两套 Schema，确保一致性
   - **解决方案**：
     - 使用 Prisma Schema 作为单一数据源
     - 编写脚本自动切换数据库配置
     - 通过环境变量控制数据库类型
   ```bash
   # 数据库切换脚本
   npm run db:sqlite  # 切换到 SQLite
   npm run db:mysql   # 切换到 MySQL
   ```

5. **Docker 多阶段构建优化**
   - **难点**：需要优化 Docker 镜像体积，同时确保构建速度
   - **解决方案**：
     - 使用多阶段构建（deps → builder → runner）
     - 分离依赖安装和代码构建阶段
     - 使用 standalone 输出模式，只复制必要文件
     - 使用非 root 用户运行容器，提升安全性

## 项目成果与量化效果

### 功能成果

1. **完整的简历展示系统**
   - 实现 5 大核心展示模块：基础信息、履历时间线、项目展示、技术栈、联系方式
   - 支持自定义字段（文本/链接/卡片）灵活配置
   - 实现文件附件下载功能

2. **强大的管理后台**
   - 8 大管理模块：仪表盘、基础信息、技术栈、项目管理、履历管理、标签管理、附件管理、消息收件箱
   - 实现数据的增删改查、发布控制、排序管理等功能
   - 提供数据统计和可视化展示

3. **灵活的标签系统**
   - 支持为项目、技术栈、履历、文件添加多标签
   - 实现基于标签的内容筛选，支持多标签组合查询
   - 通过 URL 参数实现内容动态展示

### 技术指标

1. **性能优化**
   - 首屏加载时间：< 2s（通过 SSR 和静态生成优化）
   - 页面切换流畅度：使用 SWR 缓存，减少重复请求
   - 图片加载优化：支持懒加载和格式转换

2. **代码质量**
   - TypeScript 覆盖率：100%
   - 组件复用率：80%+（通过模块化设计）
   - 代码规范：遵循 ESLint 和项目编码规范

3. **部署灵活性**
   - 支持 3 种部署方式：Docker、Vercel、Cloudflare
   - Docker 镜像体积：< 500MB（多阶段构建优化）
   - 数据库支持：MySQL（生产）、SQLite（开发）

### 项目价值

1. **技术价值**
   - 展示了全栈开发能力，涵盖前端、后端、数据库、DevOps
   - 体现了对现代 Web 开发最佳实践的理解和应用
   - 提供了可复用的项目架构和组件库

2. **业务价值**
   - 解决了个人简历维护和展示的痛点
   - 提供了灵活的定制化方案，适应不同用户需求
   - 降低了简历维护的技术门槛

3. **学习价值**
   - 深入理解 Next.js App Router 架构
   - 掌握 Prisma ORM 的高级特性
   - 实践了容器化部署和 CI/CD 流程

---

**项目地址**：https://github.com/emirage-niallchen/TrackResume  
**在线文档**：https://cv-doc.artithm.com/

